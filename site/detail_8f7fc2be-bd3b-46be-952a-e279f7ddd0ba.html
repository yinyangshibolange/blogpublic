<!DOCTYPE html>
<html>

<head><meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.min.js"></script>
<script src="/js/common.js"></script>
<link rel="stylesheet" href="/css/common.css">
<link rel="stylesheet" href="/vnocss/vno.css">
    <meta charset="utf-8">
    <title>BroadcastChannel</title>
    <meta name="description" content="BroadcastChannelä½œç”¨
æ­¤APIå®ç°äº†åœ¨åŒæºæµè§ˆå™¨ä¸‹ä¸åŒtabï¼Œçª—å£ï¼Œframeï¼Œiframeä¹‹å‰è¿›è¡Œç®€å•é€šè®¯çš„åŠŸèƒ½ï¼Œæ˜¯ç›‘å¬è€…æ¨¡å¼è®¾è®¡æ€æƒ³
ä½¿ç”¨æ–¹æ³•
æ–°å»ºä¸€ä¸ªBroadcastChann">
    <meta name="keywords" content="">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/modules/preview.css">
    <link rel="stylesheet" href="/css/markdown.css">
    <link rel="stylesheet" href="/css/modules/detail.css">
    
</head>

<body><div id="app">
    <div id="container" class="container">


        <a onclick="showMenu()" class="menu-trigger-btn">
    <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24"><path fill="#333" d="M19 17H5c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2m0-7H5c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2m0-7H5c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2"/></svg>
</a>
<script>
function showMenu() {
    $('.container-left').addClass("show")
    $('.container-left-mask').addClass("show")

    $("body").css("overflow", "hidden")
}
function hideMenu() {
    $('.container-left').removeClass("show")
    $('.container-left-mask').removeClass("show")

    $("body").css("overflow", "auto")
}
</script>
<div class="container-left-mask" onclick="hideMenu()"></div>
<div class="container-left">
    <a class="head-info" href="/index.html">
        <!-- <img src="" alt="" class="header-banner"> -->
        <div class="header-title color-333">å¼ çˆ±ä¸Šäº†hong</div>
        <div class="header-desp color-999">ğŸºçˆ±ä¸Šäº†ğŸ‘</div>
    </a>
    <ul id="menusUl" class="menus-ul">
        <li>
            <a href="/index.html">é¦–é¡µ</a>
        </li>

        
            <li>
                <a href="/site/categorys.html">æ‰€æœ‰åˆ†ç±»</a>
            </li>
            
            <li>
                <a href="/site/tags.html">æ ‡ç­¾äº‘</a>
            </li>
            
            <li>
                <a href="/site/about.html">å…³äº</a>
            </li>
            

                <script>
                    $("#menusUl > li > a").removeClass("active").each((index, el) =>  {
                        if($(el).attr("href") === window.location.pathname) {
                            $(el).addClass("active")
                        }
                    })
                </script>
    </ul>
</div>

            <div class="container-content">
                <div>
                    <h1 class="preview-title mb-5px">
                        BroadcastChannel
                    </h1>

                </div>

                <div class="mb-20px ">
                    <div class="type"><!--åˆ†ç±»-->
                        åˆ†ç±»ï¼š<a href="/site/type_mdn.html">mdn</a>
                    </div>
                    <div class="flex justify-between align-center">
                        <div class="author "><!--ä½œè€…-->
                            ä½œè€…ï¼šhongyu
                        </div>
                        <div class="publish_time "><!--å‘å¸ƒæ—¶é—´-->
                            2024-06-13 09:53:10
                        </div>
                    </div>
                </div>

                <div class="preview-content markdown-body">
                    <h2>BroadcastChannelä½œç”¨</h2>
<p>æ­¤APIå®ç°äº†åœ¨åŒæºæµè§ˆå™¨ä¸‹ä¸åŒtabï¼Œçª—å£ï¼Œframeï¼Œiframeä¹‹å‰è¿›è¡Œç®€å•é€šè®¯çš„åŠŸèƒ½ï¼Œæ˜¯ç›‘å¬è€…æ¨¡å¼è®¾è®¡æ€æƒ³</p>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<p>æ–°å»ºä¸€ä¸ªBroadcastChannelå¯¹è±¡</p>
<pre><code class="language-javascript">var channel = new BroadcastChannel(&#39;my_channel&#39;);
</code></pre>
<p>åœ¨éœ€è¦ç›‘å¬å¹¿æ’­çš„åœ°æ–¹ç›‘å¬é¡µé¢</p>
<pre><code class="language-javascript">channel.onmessage = function(ev) {
console.log(ev.data)
}
</code></pre>
<h3>å‘é€æ¶ˆæ¯</h3>
<pre><code class="language-javascript">channel.postMessage(&quot;your message&quot;)
</code></pre>
<p>ps: å¯ä»¥å‘é€ä»»æ„ç±»å‹çš„æ•°æ®</p>
<p><strong>æ–­å¼€è¿æ¥</strong></p>
<p>channel.close()</p>
<h2>æ¥ä¸ªdemoæµ‹è¯•ä¸€ä¸‹çœ‹çœ‹</h2>
<p>æ–°å»ºä¸‰ä¸ªhtmlæ–‡ä»¶</p>
<h3>ç¬¬ä¸€ä¸ª</h3>
<pre><code class="language-html">&lt;body&gt;

&lt;input id=&quot;my_input&quot; /&gt;

&lt;div id=&quot;show_input_value&quot;&gt; &lt;/div&gt;

&lt;script&gt;

var channel = new BroadcastChannel(&quot;my_channel&quot;)

channel.onmessage = function (ev) {

console.log(ev)

document.getElementById(&quot;show_input_value&quot;).innerText=ev.data
}

document.getElementById(&quot;my_input&quot;).oninput = function (ev) {

document.getElementById(&quot;show_input_value&quot;).innerText=this.value

channel.postMessage(this.value)

}

&lt;/script&gt;

&lt;/body&gt;
</code></pre>
<h3>ç¬¬äºŒä¸ª</h3>
<pre><code class="language-html">&lt;body&gt;

&lt;div id=&quot;show_input_value&quot;&gt; &lt;/div&gt;

&lt;script&gt;

var channel = new BroadcastChannel(&quot;my_channel&quot;)

  

channel.onmessage = function (ev) {

console.log(ev)

document.getElementById(&quot;show_input_value&quot;).innerText=ev.data

}

  

&lt;/script&gt;

&lt;/body&gt;
</code></pre>
<h3>ç¬¬ä¸‰ä¸ª</h3>
<pre><code class="language-html">&lt;body&gt;
&lt;iframe id=&quot;my_iframe&quot; src=&quot;index.html&quot;&gt;
&lt;/iframe&gt;
&lt;/body&gt;
</code></pre>
<p>åœ¨ç›®å½•ä¸‹è¿è¡Œanywhereï¼Œä¿è¯ä¸‰ä¸ªhtmlåœ¨åŒä¸€ä¸ªæºä¸‹
<img src="http://rqisd4yi1.hd-bkt.clouddn.com/Snipaste_2023-03-20_15-31-28.png" alt="Snipaste_2023-03-20_15-31-28.png"></p>
<p>ä¾æ¬¡æ‰“å¼€ç½‘å€
1.<a href="http://ip:port(%E4%BD%A0%E7%9A%84ip%E5%92%8C%E7%AB%AF%E5%8F%A3)">http://ip:port(ä½ çš„ipå’Œç«¯å£)</a>
2.<a href="http://ip:port(%E4%BD%A0%E7%9A%84ip%E5%92%8C%E7%AB%AF%E5%8F%A3%EF%BC%8C%E5%BC%80%E4%B8%A4%E4%B8%AA%EF%BC%8C%E6%B5%8B%E8%AF%95tab%E6%A0%87%E7%AD%BE%E9%A1%B5%E7%9A%84%E9%80%9A%E8%AE%AF)">http://ip:port(ä½ çš„ipå’Œç«¯å£ï¼Œå¼€ä¸¤ä¸ªï¼Œæµ‹è¯•tabæ ‡ç­¾é¡µçš„é€šè®¯)</a>
3.<a href="http://ip:port/test_iframe.html">http://ip:port/test_iframe.html</a>
4.<a href="http://ip:port/newchannel.html%EF%BC%88%E7%94%A8%E4%BA%8E%E5%B1%95%E7%A4%BA">http://ip:port/newchannel.htmlï¼ˆç”¨äºå±•ç¤º</a> ç¬¬äºŒä¸ªchannelå®ä¾‹æ˜¯å¦å¯ä»¥ç›‘å¬ï¼‰</p>
<p>åœ¨ä¸€ä¸ªç½‘é¡µçš„è¾“å…¥æ¡†ä¸­éšæ„è¾“å…¥ä¸€äº›å†…å®¹ï¼Œ
<img src="http://rqisd4yi1.hd-bkt.clouddn.com/Snipaste_2023-03-20_16-11-08.png" alt="Snipaste_2023-03-20_16-11-08.png"></p>
<p>ç„¶åæŸ¥çœ‹å…¶ä»–ä¸‰ä¸ªç½‘é¡µçš„å†…å®¹ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå°demoï¼Œæ›´å¤šä½¿ç”¨åœºæ™¯éœ€è¦æ›´æ·±å…¥çš„æ¢ç´¢</p>
<p><img src="http://rqisd4yi1.hd-bkt.clouddn.com/Snipaste_2023-03-20_16-11-20.png" alt="Snipaste_2023-03-20_16-11-20.png"></p>
<p><img src="http://rqisd4yi1.hd-bkt.clouddn.com/Snipaste_2023-03-20_16-11-27.png" alt="Snipaste_2023-03-20_16-11-27.png"></p>
<p><img src="http://rqisd4yi1.hd-bkt.clouddn.com/Snipaste_2023-03-20_16-11-32.png" alt="Snipaste_2023-03-20_16-11-32.png"></p>
<p>html demoå¯ä»¥åˆ°æˆ‘çš„giteeä»“åº“ä¸‹è·å–
<a href="https://gitee.com/mrhki/web-api-demo.git">https://gitee.com/mrhki/web-api-demo.git</a></p>

                </div>

                <div class="tags font-16px color-999 mt-10px"><!--ç§’é€Ÿ-->
                    
                        
                                
                </div>
                <div id="comments" class="container-comments mt-20px">

                </div>
            </div>



    </div>

    <!-- <script src="/js/jquery_dom.js"></script> -->
    <script src='/plugins/valine/Valine.min.js'></script>

    <script>
        async function copyCode () {
            try {
                var code = $(event.target).closest("pre").children("code").text()
                await navigator.clipboard.writeText(code)
                // showMessage('1', 'å¤åˆ¶æˆåŠŸ')
                // console.log('copy successed!' )
                // console.dir($(event.target))
                // console.log($(event.target).text())
                // $(event.target).text("copy successed!")
            } catch (err) {
                // showMessage('0', err.message)
            }
        }
        $(".markdown-body pre ").each((index, el) => {
            $(el).append($(`
                <a class="pre-code-copy" onclick="copyCode()">copy</a>
            `))
        })



        new Valine({
            el: '#comments',
            appId: 'uz55qcFlXoLnmXaKik9HqQgI-gzGzoHsz',
            appKey: 'AskBsksyQH7muT66he8uFG0V',
            placeholder: "ä½ æ˜¯æˆ‘ä¸€ç”Ÿåªä¼šé‡è§ä¸€æ¬¡çš„æƒŠå–œ ...",
            avatar: '',//å°æ€ªç‰©å¤´åƒ,
            visitor: true // é˜…è¯»é‡ç»Ÿ
        })
    </script>
</div></body>

</html>